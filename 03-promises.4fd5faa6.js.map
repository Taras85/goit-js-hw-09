{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,MAAO,MACPC,SAAU,gBACVC,SAAU,OACVC,QAAS,IACTC,aAAa,IAGf,MAAMC,EAAaC,SAASC,cAAc,WACpCC,EAAaF,SAASC,cAAc,kBACpCE,EAAYH,SAASC,cAAc,iBACnCG,EAAcJ,SAASC,cAAc,mBA8C3C,SAASI,EAAcV,EAAUW,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAYtC,OAXgB,IAAIC,SAAQ,CAACC,EAASC,KACpCC,YAAW,KACLN,EAEFI,EAAQ,C,SAAEhB,E,MAAUW,IAGpBM,EAAO,C,SAAEjB,E,MAAUW,GAAQ,GAE5BA,EAAM,G,CAtDbJ,EAAWY,aAAa,OAAQ,KAChCZ,EAAWY,aAAa,MAAO,GAC/BX,EAAUW,aAAa,OAAQ,KAC/BX,EAAUW,aAAa,MAAO,GAC9BV,EAAYU,aAAa,QAAS,GAClCV,EAAYU,aAAa,MAAO,GAEhCf,EAAWgB,MAAMC,QAAU,OAC3BjB,EAAWgB,MAAME,IAAM,OACvBlB,EAAWgB,MAAMG,oBAAsB,2BACvCnB,EAAWgB,MAAMI,WAAa,MAE9BpB,EAAWqB,iBAAiB,UAE5B,SAAkBC,GAChBA,EAAMC,iBAGN,IAAIC,EAAQC,OAAOH,EAAMI,cAAc,GAAGC,OACtCC,EAAOH,OAAOH,EAAMI,cAAc,GAAGC,OACrCE,EAASJ,OAAOH,EAAMI,cAAc,GAAGC,OAI3C,IAAK,IAAIG,EAAW,EAAGA,GAAYD,EAAQC,GAAY,EACrDxB,EAAcwB,EAAUN,GACrBO,MAAK,EAACnC,SAAEA,EAAQW,MAAEA,MACjBf,EAAAF,GAASG,OAAOuC,QACd,uBAAqBpC,QAAiBW,SAExC0B,QAAQC,IAAI,uBAAqBtC,QAAiBW,QAAY,IAE/D4B,OAAM,EAACvC,SAAEA,EAAQW,MAAEA,MAClBf,EAAAF,GAASG,OAAO2C,QACd,sBAAoBxC,QAAiBW,QAEvC0B,QAAQC,IAAI,sBAAoBtC,QAAeW,OAAW,IAG9DiB,GAASI,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nNotiflix.Notify.init({\n  width: '30%',\n  position: 'center-center',\n  fontSize: '15px',\n  timeout: 5000,\n  backOverlay: true,\n});\n\nconst formSubmit = document.querySelector('.form  ');\nconst inputDelay = document.querySelector('[name=\"delay\"]');\nconst inputStep = document.querySelector('[name=\"step\"]');\nconst inputAmount = document.querySelector('[name=\"amount\"]');\n// const buttonSabmit = document.querySelector('.form button');\n\ninputDelay.setAttribute('step', 500);\ninputDelay.setAttribute('min', 0);\ninputStep.setAttribute('step', 500);\ninputStep.setAttribute('min', 0);\ninputAmount.setAttribute('value', 1);\ninputAmount.setAttribute('min', 1);\n\nformSubmit.style.display = 'grid';\nformSubmit.style.gap = '20px';\nformSubmit.style.gridTemplateColumns = 'repeat(auto-fill, 170px)';\nformSubmit.style.alignItems = 'end';\n\nformSubmit.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  // console.log(inputDelay);\n  let delay = Number(event.currentTarget[0].value);\n  let step = Number(event.currentTarget[1].value);\n  let amount = Number(event.currentTarget[2].value);\n\n  // console.log(delay, step, amount);\n\n  for (let position = 1; position <= amount; position += 1) {\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms  `\n        );\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms  `);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms `\n        );\n        console.log(`❌ Rejected promise ${position} in ${delay}ms `);\n      });\n\n    delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve({ position, delay });\n      } else {\n        // Reject\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n  return promise;\n}\n"],"names":["$7Y9D8","parcelRequire","$parcel$interopDefault","Notify","init","width","position","fontSize","timeout","backOverlay","$47d4ff9957288465$var$formSubmit","document","querySelector","$47d4ff9957288465$var$inputDelay","$47d4ff9957288465$var$inputStep","$47d4ff9957288465$var$inputAmount","$47d4ff9957288465$var$createPromise","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","setAttribute","style","display","gap","gridTemplateColumns","alignItems","addEventListener","event","preventDefault","delay1","Number","currentTarget","value","step","amount","position1","then","success","console","log","catch","failure"],"version":3,"file":"03-promises.4fd5faa6.js.map"}